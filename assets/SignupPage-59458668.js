import{a as b,b as P,r as v,c as F,s as S,d,e as w,j as s,i as t,L as y,N as k,u as N}from"./index-d87722c3.js";import{u as C,c as B,a as i,b as q}from"./index.esm-75ce83ee.js";import{F as A,I as n,M as l,G as I,B as j,R as g,Y as E,a as L}from"./SignupForm.styled-3bb02e91.js";const R=()=>{const{t:r}=b(),c=P(),[a,f]=v.useState(!1),o=F(S),e=C({initialValues:{email:"",password:"",repeatedPassword:""},validationSchema:B({email:i().required("Email is required").matches(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,"Invalid email"),password:i().required("Password is required").min(8,"Password must contain at least 8 characters").max(64,"Password must contain no more than 64 characters"),repeatedPassword:i().required("Password is required").oneOf([q("password"),null],"Passwords must match")}),onSubmit:async({email:u,password:p})=>{d.Notify.info("Please, consider that we use free API resources. Initial load may take some time.");const m=await c(w.signupThunk({email:u,password:p}));if(m.error)return d.Notify.failure(m.payload);const x=await c(w.signinThunk({email:u,password:p}));if(x.error)return d.Notify.failure(x.payload);e.resetForm()}}),h=()=>{f(!a)};return s.jsxs(A,{onSubmit:e.handleSubmit,children:[s.jsx("h2",{children:r("authForm.headerSignup")}),s.jsx("label",{children:r("authForm.labelEmail")}),s.jsxs(n,{children:[s.jsx("input",{type:"email",name:"email",placeholder:r("authForm.placeholdEmail"),onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.email,style:{color:e.errors.email&&e.touched.email?"var(--secondary-second)":"var(--primary-focus)",border:e.errors.email&&e.touched.email?"1px solid var(--secondary-second)":"1px solid var(--secondary-fifth)"}}),e.errors.email&&e.touched.email?s.jsx(l,{children:e.errors.email}):null]}),s.jsx("label",{children:r("authForm.labelPassword")}),s.jsxs(n,{children:[s.jsx("input",{type:a?"text":"password",name:"password",placeholder:r("authForm.placeholdPassword"),onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.password,style:{color:e.errors.password&&e.touched.password?"var(--secondary-second)":"var(--primary-focus)",border:e.errors.password&&e.touched.password?"1px solid var(--secondary-second)":"1px solid var(--secondary-fifth)"}}),s.jsx("button",{type:"button",className:"icon-eye",onClick:h,style:{top:e.errors.password&&e.touched.password?"23%":"30%"},children:s.jsx("svg",{width:"16",height:"16",className:"icon",children:s.jsx("use",{href:a?t+"#icon-opened-eye":t+"#icon-closed-eye"})})}),e.errors.password&&e.touched.password?s.jsx(l,{children:e.errors.password}):null]}),s.jsx("label",{children:r("authForm.labelRepeatPassword")}),s.jsxs(n,{children:[s.jsx("input",{type:a?"text":"password",name:"repeatedPassword",placeholder:r("authForm.labelRepeatPassword"),onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.repeatedPassword,style:{color:e.errors.repeatedPassword&&e.touched.repeatedPassword?"var(--secondary-second)":"var(--primary-focus)",border:e.errors.repeatedPassword&&e.touched.repeatedPassword?"1px solid var(--secondary-second)":"1px solid var(--secondary-fifth)"}}),s.jsx("button",{type:"button",className:"icon-eye",onClick:h,style:{top:e.errors.repeatedPassword&&e.touched.repeatedPassword?"23%":"30%"},children:s.jsx("svg",{width:"16",height:"16",className:"icon",children:s.jsx("use",{href:a?t+"#icon-opened-eye":t+"#icon-closed-eye"})})}),e.errors.repeatedPassword&&e.touched.repeatedPassword?s.jsx(l,{children:e.errors.repeatedPassword}):null]}),s.jsx("button",{type:"submit",disabled:o,children:o?s.jsx(y,{}):r("authForm.buttonSignup")}),s.jsx(I,{type:"button",disabled:o,children:o?s.jsx(y,{}):s.jsxs("a",{href:"https://watertracker-t8-backend.onrender.com/api/auth/google",children:["Sign up with ",s.jsxs("span",{children:[s.jsx(j,{children:"G"}),s.jsx(g,{children:"o"}),s.jsx(E,{children:"o"}),s.jsx(j,{children:"g"}),s.jsx(L,{children:"l"}),s.jsx(g,{children:"e"})]})]})}),s.jsx(k,{to:"/signin",children:r("authForm.linkSignin")})]})},G=N.div`
  max-width: 320px;
  margin: 0 auto;
  padding: 24px 20px;
  height: 550px;

  @media screen and (min-width: 768px) {
    max-width: 768px;
    padding: 40px 32px;
    margin-bottom: 40px;
  }

  @media screen and (min-width: 1440px) {
    max-width: 1280px;
    padding: 20px 112px;
    display: flex;
    justify-content: flex-end;
    margin-bottom: 120px;
  }
`,D=()=>s.jsx("section",{children:s.jsx(G,{children:s.jsx(R,{})})});export{D as default};
